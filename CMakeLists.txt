# $Id$
CMAKE_MINIMUM_REQUIRED(VERSION 2.8.6)
IF( COMMAND CMAKE_POLICY )
  CMAKE_POLICY( SET CMP0003 NEW )
ENDIF()

SET(CMAKE_AUTOMOC TRUE)

PROJECT( SHARED_LIBRARIES )
SET( SHARED_LIBRARIES_VERSION_MAJOR 1 )
SET( SHARED_LIBRARIES_VERSION_MINOR 0 )
SET( SHARED_LIBRARIES_VERSION_PATCH 2 )
SET( SHARED_LIBRARIES_VERSION ${SHARED_LIBRARIES_VERSION_MAJOR}.${SHARED_LIBRARIES_VERSION_MINOR}.${SHARED_LIBRARIES_VERSION_PATCH} )

########### modules #################
SET( CMAKE_MODULE_PATH "${PROJECT_SOURCE_DIR}/base-cmake" )
INCLUDE( Macros )

IF( WIN32 )

  SET( CMAKE_EXE_LINKER_FLAGS "${CMAKE_EXE_LINKER_FLAGS} -Wl,--enable-auto-import" )
  SET( CMAKE_SHARED_LIBRARY_CXX_FLAGS  "${CMAKE_SHARED_LIBRARY_CXX_FLAGS} -Wl,--enable-auto-import " )

ENDIF()

########### aspell ###############
FIND_PACKAGE( ASPELL )

########### links #########
SET(CMAKE_INSTALL_RPATH_USE_LINK_PATH TRUE)

########### make shared libraries #########
SET( ENABLE_SHARED 1 )

########### sub directories #########
ADD_SUBDIRECTORY( base )
ADD_SUBDIRECTORY( base-qt )
ADD_SUBDIRECTORY( base-server )
ADD_SUBDIRECTORY( base-help )

IF( ASPELL_FOUND )

  ADD_SUBDIRECTORY( base-spellcheck )

ENDIF()

ADD_SUBDIRECTORY( base-transparency )
ADD_SUBDIRECTORY( base-svg )
ADD_SUBDIRECTORY( base-notifications )
